# **Инструкция по работе с Git**

## Настройка подписи

    git config --global user.name ""
    git config --global user.email ""

Добавление подписи коммитов, user.name - имя пользователя, user.email - электронная почта пользователя. Команда '--global' обозначает настройки для всех репозиториев на этом компьютере.

## Общая информация о Git

![Git logo](git.jpg)

Git - это консольная утилита, для отслеживания и ведения истории изменения файлов, в вашем проекте. Чаще всего его используют для кода, но можно и для других файлов. Например, для картинок - полезно для дизайнеров.

С помощью Git-a вы можете откатить свой проект до более старой версии, сравнивать, анализировать или сливать свои изменения в репозиторий.

Репозиторием называют хранилище вашего кода и историю его изменений. Git работает локально и все ваши репозитории хранятся в определенных папках на жестком диске.

## Создание нового репозитория

Чтобы создать (инициализировать) новый репозиторий в текущей папке, небходимо в терминале выполнить команду:

    git init

## Добавление изменений в индекс

Добавить отдельный файл в область подготовленных файлов можно параметром add с указанием имени файла.

    git add <filename>

## Проверка статуса репозитория

Просмотреть статус нужного репозитория можно по ключевому слову status: его действие распространяется на подготовленные, неподготовленные и неотслеживаемые файлы.

    git status

## Внесение изменений в репозиторий

Для создания коммита в репозитории используется команда:

    git commit

таким образом можно записать полное описание в коммит.

### Создание коммита с однострочным сообщением

При создании коммита в репозитории можно добавить однострочное сообщение с помощью параметра commit с флагом -m. Само сообщение вводится непосредственно после флага, в кавычках.

    git commit -m 'message'

### Создание коммита с автоматическим индексированием изменений

Создание коммита с автоматической индексацией изменений в файлах
проекта. Новые файлы при этом индексироваться не будут! Удаление же файлов
будет учтено.

    git commit -a

### Создание коммита с автоматическим индексированием изменений и внесением однострочного сообщения

    git commit -am

## Просмотр изменений до коммита

Можно просматривать список изменений, внесённых в репозиторий, используя параметр diff. По умолчанию отображаются только изменения, не подготовленные для фиксации.

    git diff

### Сравнение коммитов

С помощью данной комманды можно сравнить изменение двух коммитов, если внести их хэш-номер.

    git diff <hash1> <hash2>

## Отображение журнала фиксации в виде графика для текущей или всех веток

Просмотреть историю коммитов в виде графика для текущей ветки можно с помощью параметра log и флагов --graph --oneline --decorate. Опция --graph выведет график в формате ASCII, отражающий структуру ветвления истории коммитов. В связке с флагами --oneline и --decorate, этот флаг упрощает понимание того, к какой ветке относится каждый коммит.

    git log --oneline --graph --decorate

### Просмотр всех веток коммитов

Для просмотра истории коммитов по всем веткам используется флаг --all

    git log --all --graph --oneline --decorate

## Переключение между коммитами

Для отката до опрделенного коммита используется команда checkout с хэш-номером нужного коммита

    git checkout <hash>

### Возврат на главную

Для возврата на ветку master, нужно использовать команду:

    git checkout master

## Ветвления

Основной идеей ветвления является отклонение от основного кода и продолжение работы независимо от него. Также это удобно в тестировании отдельного функционала, потому что позволяет работать над новой частью кода, не беспокоясь о поломке чего-то в рабочей версии.

Для создания новой ветки используется команда:

    git branch <branchname>

Для просмотра существующих веток используется команда:

    git branch

Удаление веток не такой простой процесс, как может показаться. Можно случайно удалить несохраненные изменения в исходном коде, что приведет к нежелательным последствиям. Поэтому здесь нужно действовать осторожно. С операцией удаления над ветками справляется уже привычная команда git branch с параметром -d:

    git branch -d <name of branch>

Git не позволит удалить ветку, у которой есть несохраненные изменения. Так мы избегаем ситуации, когда часть написанного кода будет безвозвратно утеряна. Если же мы уверены, что изменения в этой версии не нужны и их можно смело удалять, то вместо флага -d используем -D:

    git branch -D <name of branch>

## Слияние веток

Стратегия слияния – это набор правил, которыми руководствуется Git при выполнении слияния.
Существует две основных стратегии слияния:

**Явное слияние**

Во время явного слияния создается так называемый merge-коммит. Основное предназначение этого коммита состоит в том, чтобы "соединить" изменения двух веток. У этого коммита есть одна особенность: два родительских коммита. Один родитель – последний коммит сливаемой ветки, второй – последний коммит целевой ветки.

**Неявное слияние.**

Во время неявного слияния не создается новых коммитов: используются только уже существующие. Суть этого слияния заключается в том, что из вливаемой ветки извлекаются несколько коммитов, а затем они применяются к последнему коммиту целевой ветки. Такое слияние называется fast-forward.

То есть их основное различие заключается в том, что при явном всегда создается новый коммит, а при неявном – используются существующие коммиты.

Для слияние используется команда:

    git merge <branchname>

### Конфликт слияния

При слиянии или перебазе вы сообщаете Git интегрировать изменения, внесенные в одну ветвь, с изменениями, внесенными в другую. Часто Git автоматически завершает слияние или повторное создание базы данных без помощи. Однако если Git обнаруживает, что изменения, внесенные в одну ветвь, конфликтуют с изменением, сделанным в другой, он предложит устранить конфликт. Конфликт слияния может возникать, когда объединенные ветви изменяют одну и ту же строку файла по-разному или когда одна ветвь изменяет файл, а другая ветвь удаляет ее. Процесс разрешения конфликтов слиянием применим как к слиянию, так и к повторной базе Git.
